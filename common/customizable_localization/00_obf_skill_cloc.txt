# 定义一个名为 get_char_influence_level_name 的自定义描述
get_char_influence_level_name = {
    # 'this' 上下文将是我们要检查的角色
	type = character
    # text 块会从上到下检查 trigger，返回第一个满足条件的 text
    text = {
        trigger = { influence_level = 5 }
        # 返回游戏原版的本地化键
        localization_key = "influence_level_5" 
    }
    text = {
        trigger = { influence_level = 4 }
        localization_key = "influence_level_4"
    }
    text = {
        trigger = { influence_level = 3 }
        localization_key = "influence_level_3" 
    }
    text = {
        trigger = { influence_level = 2 }
        localization_key = "influence_level_2"
    }
	text = {
        trigger = { influence_level = 1 }
        localization_key = "influence_level_1"
    }
	text = {
        trigger = { influence_level = 0 }
        localization_key = "influence_level_0"
    }
    # 默认/后备选项
    text = {
        localization_key = "influence_level_0"
    }
}

diplomacy_skill_value_text_reverse = {
	type = character
	text = {
		localization_key = diplomacy_skill_value_text
	}
}

diplomacy_skill_value_text = {
	type = character

	text = {
		trigger = {
			scope:second ?= ROOT
		}
		localization_key = CHARACTER_DIPLOMACY_VALUE
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_diplo_for_known = yes
			}
		}
		localization_key = SKILL_DIPLOMACY_VALUES_KNOWN_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_any_skill_for_humble = yes
			}
		}
		localization_key = SKILL_DIPLOMACY_VALUES_HUMBLE_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_diplo_for_illusory = yes
			}
		}
		localization_key = SKILL_VALUES_ILLUSORY_DIPLOMAT_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_roughly_known = yes
			}
		}
		localization_key = SKILL_DIPLOMACY_VALUES_NO_RELATED_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_not_known = yes
			}
		}
		localization_key = SKILL_UNKNOWN
	}
	#  text = {
    #     # 不设置任何 trigger，确保总有返回值
    #     localization_key = SKILL_DIPLOMACY_VALUE # 或者 SKILL_DIPLOMACY_VALUE (如果你希望默认显示数值)
    # }
}

martial_skill_value_text_reverse = {
	type = character
	text = {
		localization_key = martial_skill_value_text
	}
}

martial_skill_value_text = {
	type = character

	text = {
		trigger = {
			scope:second ?= ROOT
		}
		localization_key = CHARACTER_MARTIAL_VALUE
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_martial_for_known = yes
			}
		}
		localization_key = SKILL_MARTIAL_VALUES_KNOWN_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_any_skill_for_humble = yes
			}
		}
		localization_key = SKILL_MARTIAL_VALUES_HUMBLE_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_martial_for_illusory = yes
			}
		}
		localization_key = SKILL_VALUES_ILLUSORY_WARRIOR_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_roughly_known = yes
			}
		}
		localization_key = SKILL_MARTIAL_VALUES_NO_RELATED_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_not_known = yes
			}
		}
		localization_key = SKILL_UNKNOWN
	}
}

stewardship_skill_value_text_reverse = {
	type = character
	text = {
		localization_key = stewardship_skill_value_text
	}
}

stewardship_skill_value_text = {
	type = character

	text = {
		trigger = {
			scope:second ?= ROOT
		}
		localization_key = CHARACTER_STEWARDSHIP_VALUE
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_steward_for_known = yes
			}
		}
		localization_key = SKILL_STEWARDSHIP_VALUES_KNOWN_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_any_skill_for_humble = yes
			}
		}
		localization_key = SKILL_STEWARDSHIP_VALUES_HUMBLE_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_steward_for_illusory = yes
			}
		}
		localization_key = SKILL_VALUES_ILLUSORY_ADMINISTRATOR_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_roughly_known = yes
			}
		}
		localization_key = SKILL_STEWARDSHIP_VALUES_NO_RELATED_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_not_known = yes
			}
		}
		localization_key = SKILL_UNKNOWN
	}
}

intrigue_skill_value_text_reverse = {
	type = character
	text = {
		localization_key = intrigue_skill_value_text
	}
}

intrigue_skill_value_text = {
	type = character

	text = {
		trigger = {
			scope:second ?= ROOT
		}
		localization_key = CHARACTER_INTRIGUE_VALUE
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_intrigue_for_known = yes
			}
		}
		localization_key = SKILL_INTRIGUE_VALUES_KNOWN_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_any_skill_for_humble = yes
			}
		}
		localization_key = SKILL_INTRIGUE_VALUES_HUMBLE_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_intrigue_for_illusory = yes
			}
		}
		localization_key = SKILL_VALUES_ILLUSORY_INTRIGUER_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_roughly_known = yes
			}
		}
		localization_key = SKILL_INTRIGUE_VALUES_NO_RELATED_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_not_known = yes
			}
		}
		localization_key = SKILL_UNKNOWN
	}
}

learning_skill_value_text_reverse = {
	type = character
	text = {
		localization_key = learning_skill_value_text
	}
}

learning_skill_value_text = {
	type = character

	text = {
		trigger = {
			scope:second ?= ROOT
		}
		localization_key = CHARACTER_LEARNING_VALUE
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_learning_for_known = yes
			}
		}
		localization_key = SKILL_LEARNING_VALUES_KNOWN_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_any_skill_for_humble = yes
			}
		}
		localization_key = SKILL_LEARNING_VALUES_HUMBLE_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_learning_for_illusory = yes
			}
		}
		localization_key = SKILL_VALUES_ILLUSORY_SCHOLAR_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_roughly_known = yes
			}
		}
		localization_key = SKILL_LEARNING_VALUES_NO_RELATED_CHARACTER
	}
	text = {
		trigger = {
			scope:second ?= {
				save_temporary_scope_as = character
				gui_skills_are_not_known = yes
			}
		}
		localization_key = SKILL_UNKNOWN
	}
}
